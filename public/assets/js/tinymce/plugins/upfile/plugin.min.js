/**
 * upfile 1.1v
 * The tinymce-plugins is used to upfile
 * 
 * https://github.com/Five-great/tinymce-plugins
 * 
 * Copyright 2020, Five(Li Hailong) The Chengdu, China https://www.fivecc.cn/
 *
 * Licensed under MIT
 */
tinymce.PluginManager.add("upfile",function(a,f){window.upfile={};var d="/assets/js/tinymce/plugins/upfile/upfiles.html";upfile.file_callback=a.getParam("file_callback",void 0,"function");upfile.tinymce=tinymce;upfile.res={};var c=function(){return a.windowManager.openUrl({title:"\u4e0a\u4f20\u6587\u4ef6",size:"large",width:450,height:450,url:d,buttons:[{type:"cancel",text:"Close"},{type:"custom",text:"Save",name:"save",primary:!0}],onAction:function(e,b){switch(b.name){case "save":b=upfile.res,
a.insertContent('<span  class="attachment" contenteditable="false"><a href="'+b.url+'" target="_blank" title="'+b.text+'" >'+b.text+"<a></span>"),upfile.res={},e.close()}}})};a.ui.registry.getAll().icons.upfile||a.ui.registry.addIcon("upfile",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1612405224458" class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="2273" width="200" height="200"><defs><style type="text/css"/></defs><path d="M274.432 377.855999q-27.648 0-35.328-14.848t10.752-38.4q19.456-24.576 45.056-59.392t53.248-72.192 53.76-72.704 46.592-60.928q18.432-23.552 35.328-24.576t36.352 21.504q19.456 23.552 44.544 56.832t51.712 69.632 52.736 71.168 46.592 60.416q22.528 27.648 17.408 46.08t-33.792 17.408q-17.408 0-45.056 1.024t-46.08 1.024q-20.48 1.024-25.088 12.8t-4.608 32.256l0 50.176q0 27.648 0.512 56.32t0.512 56.32l0 51.2q0 10.24-1.536 21.504t-7.168 20.48-16.384 15.36-29.184 6.144q-21.504 0-39.424 0.512t-42.496 0.512q-33.792 0-45.568-15.872t-11.776-50.688l0-39.936q0-23.552-0.512-50.176t-0.512-53.248l0-48.128q0-30.72-6.144-48.64t-27.648-16.896q-15.36 0-37.376-1.024t-39.424-1.024zM961.535999 901.119998q6.144 24.576-2.56 47.104t-27.136 39.424-45.056 26.624-57.344 9.728l-694.271999 0q-36.864 0-65.024-13.312t-45.056-32.768-22.528-42.496 1.536-41.472q6.144-14.336 12.288-29.696 5.12-13.312 12.288-30.208t15.36-34.304l38.912-94.208 116.736 0-44.032 129.024 659.455999 0-44.032-129.024 111.616 0q21.504 52.224 38.912 94.208 7.168 18.432 14.336 35.84t12.8 31.232 9.216 23.552 3.584 10.752z" p-id="2274"/></svg>');
a.ui.registry.addButton("upfile",{icon:"upfile",tooltip:"\u4e0a\u4f20\u6587\u4ef6",onAction:function(){c()}});a.ui.registry.addMenuItem("upfile",{icon:"upfile",text:"\u56fe\u7247\u4e0a\u4f20...",onAction:function(){c()}});return{getMetadata:function(){return{name:"\u4e0a\u4f20\u6587\u4ef6",url:"https://github.com/Five-great/tinymce-plugins"}}}});
